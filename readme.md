# Remove Videos by Percent 

**WARNING** Make sure you understand whatever is in a bookmarklet, this code is running AS YOU against websites that you may be logged into (like a bank, social media, etc). A nefarious bookmarklet author could do bad things to you.

Things that can be done with a bookmarklet

* Poke authenticated api endpoints
* Drive UI like clicking
* Manipulate the DOM
* Malware...ðŸ˜±

Source available in this repo, please inspect it!

Click and drag this link into your bookmarks bar to
<a title="Remove Videos By Percent" href="javascript:(function()%7B%2F******%2F%20(()%20%3D%3E%20%7B%20%2F%2F%20webpackBootstrap%0Avar%20__webpack_exports__%20%3D%20%7B%7D%3B%0Avar%20removeVids%20%3D%20function%20()%20%7B%0D%0A%20%20%20%20var%20n%20%3D%20parseInt(prompt('Number%20of%20videos%20to%20remove%3F'%2C%201))%3B%0D%0A%20%20%20%20var%20watchedPercent%20%3D%20parseInt(prompt('Percent%20to%20consider%20watched'%2C%20100))%3B%0D%0A%20%20%20%20var%20vids%20%3D%20Array.from(document.querySelectorAll('ytd-playlist-video-renderer'))%3B%0D%0A%20%20%20%20var%20vidsThatMatch%20%3D%20vids.filter(v%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20v.querySelectorAll('%23progress').length%20%26%26%20parseInt(v.querySelector('%23progress').style.width)%20%3E%3D%20watchedPercent%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%20%20%20%20if%20(vidsThatMatch.length%20%3C%20n)%20%7B%20n%20%3D%20vidsThatMatch.length%20%7D%3B%20%0D%0A%20%20%20%20var%20i%20%3D%200%3B%20%0D%0A%20%20%20%20var%20interval%20%3D%20setInterval(function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20if%20(n%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20vidsThatMatch%5Bi%5D.querySelector('yt-icon-button.ytd-menu-renderer').click()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20title%20%3D%20vidsThatMatch%5Bi%5D.querySelector('%23video-title')%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('Removed%3A'%2C%20title.innerText%2C%20title.href)%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20need%20to%20search%20the%20whole%20document%20pop%20up%20lives%20in%20another%20container%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20removeResults%20%3D%20document.evaluate(%22%2F%2Fspan%5Bcontains(.%2C%20'Remove%20from')%5D%22%2C%20document%2C%20null%2C%20XPathResult.ANY_TYPE%2C%20null)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20removeText%20%3D%20removeResults.iterateNext()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeText.click()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20n--%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('No%20vids')%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(interval)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%20500)%3B%0D%0A%7D%3B%20%0D%0AremoveVids()%3B%0A%2F******%2F%20%7D)()%0A%3B%7D)()">Remove Videos By Percent</a>